#include <allegro.h>

int main() {
    allegro_init();
    install_keyboard();
    install_mouse();
    set_color_depth(desktop_color_depth());
    if((set_gfx_mode(GFX_AUTODETECT_WINDOWED,800,480,0,0))!=0)
    { 	allegro_message("Pb de mode graphique");
        allegro_exit();
        exit(EXIT_FAILURE);
    }

    BITMAP * page;
    page = create_bitmap(SCREEN_W,SCREEN_H);
    show_mouse(screen); //on affiche la souris à l'écran
    while (!key[KEY_ESC]){
        clear_bitmap(page);

    //rectangle pour afficher le contour des fonctionnalités
        for (int i = 0; i < 4; ++i) {
            rect(page, 350,100+i*60,450,140+i*60, makecol(255,255,255)); 
        }

    //détection de la position de la souris
        if (mouse_x >= 350 && mouse_x <= 450 && mouse_y >= 100 && mouse_y <= 140){ //fonction jouer
            rectfill(page, 352,102,448,138, makecol(200,200,200));
        }
        if (mouse_x >= 350 && mouse_x <= 450 && mouse_y >= 160 && mouse_y <= 200){ //fonction règle
            rectfill(page, 352,162,448,198, makecol(200,200,200));
        }
        if (mouse_x >= 350 && mouse_x <= 450 && mouse_y >= 220 && mouse_y <= 260){ //fonction options
            rectfill(page, 352,222,448,258, makecol(200,200,200));
        }
        if (mouse_x >= 350 && mouse_x <= 450 && mouse_y >= 280 && mouse_y <= 320){ //fonction quitter
            rectfill(page, 352,282,448,318, makecol(200,200,200));
            if (mouse_b &1){ //détection d'un clic gauche
                allegro_exit();
                return 0;
            }
        }

    //affichage des différentes fonctionnalités
        textout_centre_ex(page, font, "Jouer", 400, 120, makecol(255,255,255), -1); 
        textout_centre_ex(page, font, "Règle", 400, 180, makecol(255,255,255), -1);
        textout_centre_ex(page, font, "Options", 400, 240, makecol(255,255,255), -1);
        textout_centre_ex(page, font, "Quitter", 400, 300, makecol(255,255,255), -1);

        blit(page,screen,0,0,0,0,SCREEN_W,SCREEN_H);
    }
    allegro_exit();
}END_OF_MAIN()
